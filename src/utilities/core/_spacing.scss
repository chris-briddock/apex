// ============================================================================
// Spacing Utilities (CSS Custom Properties)
// ============================================================================
// All spacing values use CSS custom properties for runtime customization

@use 'sass:map';
@use 'sass:string';
@use '../../config/settings' as settings;
@use '../../config/breakpoints' as bp;
@use '../../mixins/utilities';

@if settings.$enable-spacing == true {
  // ============================================================================
  // CSS Variable-based Spacing Scale (Integer values only)
  // ============================================================================
  $spacing-scale-int: (
    0: var(--spacing-0),
    1: var(--spacing-1),
    2: var(--spacing-2),
    3: var(--spacing-3),
    4: var(--spacing-4),
    5: var(--spacing-5),
    6: var(--spacing-6),
    7: var(--spacing-7),
    8: var(--spacing-8),
    9: var(--spacing-9),
    10: var(--spacing-10),
    11: var(--spacing-11),
    12: var(--spacing-12),
    14: var(--spacing-14),
    16: var(--spacing-16),
    20: var(--spacing-20),
    24: var(--spacing-24),
    28: var(--spacing-28),
    32: var(--spacing-32),
    36: var(--spacing-36),
    40: var(--spacing-40),
    44: var(--spacing-44),
    48: var(--spacing-48),
    52: var(--spacing-52),
    56: var(--spacing-56),
    60: var(--spacing-60),
    64: var(--spacing-64),
    72: var(--spacing-72),
    80: var(--spacing-80),
    96: var(--spacing-96)
  );

  // ============================================================================
  // Integer Spacing Utilities
  // ============================================================================
  // Margin all sides
  @each $key, $value in $spacing-scale-int {
    .m-#{$key} { margin: $value; }
    .mt-#{$key} { margin-top: $value; }
    .mr-#{$key} { margin-right: $value; }
    .mb-#{$key} { margin-bottom: $value; }
    .ml-#{$key} { margin-left: $value; }
    .mx-#{$key} { margin-left: $value; margin-right: $value; }
    .my-#{$key} { margin-top: $value; margin-bottom: $value; }
  }

  // Padding all sides
  @each $key, $value in $spacing-scale-int {
    .p-#{$key} { padding: $value; }
    .pt-#{$key} { padding-top: $value; }
    .pr-#{$key} { padding-right: $value; }
    .pb-#{$key} { padding-bottom: $value; }
    .pl-#{$key} { padding-left: $value; }
    .px-#{$key} { padding-left: $value; padding-right: $value; }
    .py-#{$key} { padding-top: $value; padding-bottom: $value; }
  }

  // Gap utilities
  @each $key, $value in $spacing-scale-int {
    .gap-#{$key} { gap: $value; }
    .gap-x-#{$key} { column-gap: $value; }
    .gap-y-#{$key} { row-gap: $value; }
  }

  // ============================================================================
  // Fractional Spacing Utilities (Manual with escaped class names)
  // ============================================================================
  // px spacing
  .m-px { margin: var(--spacing-px); }
  .mt-px { margin-top: var(--spacing-px); }
  .mr-px { margin-right: var(--spacing-px); }
  .mb-px { margin-bottom: var(--spacing-px); }
  .ml-px { margin-left: var(--spacing-px); }
  .mx-px { margin-left: var(--spacing-px); margin-right: var(--spacing-px); }
  .my-px { margin-top: var(--spacing-px); margin-bottom: var(--spacing-px); }

  .p-px { padding: var(--spacing-px); }
  .pt-px { padding-top: var(--spacing-px); }
  .pr-px { padding-right: var(--spacing-px); }
  .pb-px { padding-bottom: var(--spacing-px); }
  .pl-px { padding-left: var(--spacing-px); }
  .px-px { padding-left: var(--spacing-px); padding-right: var(--spacing-px); }
  .py-px { padding-top: var(--spacing-px); padding-bottom: var(--spacing-px); }

  .gap-px { gap: var(--spacing-px); }
  .gap-x-px { column-gap: var(--spacing-px); }
  .gap-y-px { row-gap: var(--spacing-px); }

  // 0.5 spacing (using literal class name with dot escape)
  .#{string.unquote('m-0\\.5')} { margin: var(--spacing-0-5); }
  .#{string.unquote('mt-0\\.5')} { margin-top: var(--spacing-0-5); }
  .#{string.unquote('mr-0\\.5')} { margin-right: var(--spacing-0-5); }
  .#{string.unquote('mb-0\\.5')} { margin-bottom: var(--spacing-0-5); }
  .#{string.unquote('ml-0\\.5')} { margin-left: var(--spacing-0-5); }
  .#{string.unquote('mx-0\\.5')} { margin-left: var(--spacing-0-5); margin-right: var(--spacing-0-5); }
  .#{string.unquote('my-0\\.5')} { margin-top: var(--spacing-0-5); margin-bottom: var(--spacing-0-5); }

  .#{string.unquote('p-0\\.5')} { padding: var(--spacing-0-5); }
  .#{string.unquote('pt-0\\.5')} { padding-top: var(--spacing-0-5); }
  .#{string.unquote('pr-0\\.5')} { padding-right: var(--spacing-0-5); }
  .#{string.unquote('pb-0\\.5')} { padding-bottom: var(--spacing-0-5); }
  .#{string.unquote('pl-0\\.5')} { padding-left: var(--spacing-0-5); }
  .#{string.unquote('px-0\\.5')} { padding-left: var(--spacing-0-5); padding-right: var(--spacing-0-5); }
  .#{string.unquote('py-0\\.5')} { padding-top: var(--spacing-0-5); padding-bottom: var(--spacing-0-5); }

  .#{string.unquote('gap-0\\.5')} { gap: var(--spacing-0-5); }
  .#{string.unquote('gap-x-0\\.5')} { column-gap: var(--spacing-0-5); }
  .#{string.unquote('gap-y-0\\.5')} { row-gap: var(--spacing-0-5); }

  // 1.5 spacing
  .#{string.unquote('m-1\\.5')} { margin: var(--spacing-1-5); }
  .#{string.unquote('mt-1\\.5')} { margin-top: var(--spacing-1-5); }
  .#{string.unquote('mr-1\\.5')} { margin-right: var(--spacing-1-5); }
  .#{string.unquote('mb-1\\.5')} { margin-bottom: var(--spacing-1-5); }
  .#{string.unquote('ml-1\\.5')} { margin-left: var(--spacing-1-5); }
  .#{string.unquote('mx-1\\.5')} { margin-left: var(--spacing-1-5); margin-right: var(--spacing-1-5); }
  .#{string.unquote('my-1\\.5')} { margin-top: var(--spacing-1-5); margin-bottom: var(--spacing-1-5); }

  .#{string.unquote('p-1\\.5')} { padding: var(--spacing-1-5); }
  .#{string.unquote('pt-1\\.5')} { padding-top: var(--spacing-1-5); }
  .#{string.unquote('pr-1\\.5')} { padding-right: var(--spacing-1-5); }
  .#{string.unquote('pb-1\\.5')} { padding-bottom: var(--spacing-1-5); }
  .#{string.unquote('pl-1\\.5')} { padding-left: var(--spacing-1-5); }
  .#{string.unquote('px-1\\.5')} { padding-left: var(--spacing-1-5); padding-right: var(--spacing-1-5); }
  .#{string.unquote('py-1\\.5')} { padding-top: var(--spacing-1-5); padding-bottom: var(--spacing-1-5); }

  .#{string.unquote('gap-1\\.5')} { gap: var(--spacing-1-5); }
  .#{string.unquote('gap-x-1\\.5')} { column-gap: var(--spacing-1-5); }
  .#{string.unquote('gap-y-1\\.5')} { row-gap: var(--spacing-1-5); }

  // 2.5 spacing
  .#{string.unquote('m-2\\.5')} { margin: var(--spacing-2-5); }
  .#{string.unquote('mt-2\\.5')} { margin-top: var(--spacing-2-5); }
  .#{string.unquote('mr-2\\.5')} { margin-right: var(--spacing-2-5); }
  .#{string.unquote('mb-2\\.5')} { margin-bottom: var(--spacing-2-5); }
  .#{string.unquote('ml-2\\.5')} { margin-left: var(--spacing-2-5); }
  .#{string.unquote('mx-2\\.5')} { margin-left: var(--spacing-2-5); margin-right: var(--spacing-2-5); }
  .#{string.unquote('my-2\\.5')} { margin-top: var(--spacing-2-5); margin-bottom: var(--spacing-2-5); }

  .#{string.unquote('p-2\\.5')} { padding: var(--spacing-2-5); }
  .#{string.unquote('pt-2\\.5')} { padding-top: var(--spacing-2-5); }
  .#{string.unquote('pr-2\\.5')} { padding-right: var(--spacing-2-5); }
  .#{string.unquote('pb-2\\.5')} { padding-bottom: var(--spacing-2-5); }
  .#{string.unquote('pl-2\\.5')} { padding-left: var(--spacing-2-5); }
  .#{string.unquote('px-2\\.5')} { padding-left: var(--spacing-2-5); padding-right: var(--spacing-2-5); }
  .#{string.unquote('py-2\\.5')} { padding-top: var(--spacing-2-5); padding-bottom: var(--spacing-2-5); }

  .#{string.unquote('gap-2\\.5')} { gap: var(--spacing-2-5); }
  .#{string.unquote('gap-x-2\\.5')} { column-gap: var(--spacing-2-5); }
  .#{string.unquote('gap-y-2\\.5')} { row-gap: var(--spacing-2-5); }

  // 3.5 spacing
  .#{string.unquote('m-3\\.5')} { margin: var(--spacing-3-5); }
  .#{string.unquote('mt-3\\.5')} { margin-top: var(--spacing-3-5); }
  .#{string.unquote('mr-3\\.5')} { margin-right: var(--spacing-3-5); }
  .#{string.unquote('mb-3\\.5')} { margin-bottom: var(--spacing-3-5); }
  .#{string.unquote('ml-3\\.5')} { margin-left: var(--spacing-3-5); }
  .#{string.unquote('mx-3\\.5')} { margin-left: var(--spacing-3-5); margin-right: var(--spacing-3-5); }
  .#{string.unquote('my-3\\.5')} { margin-top: var(--spacing-3-5); margin-bottom: var(--spacing-3-5); }

  .#{string.unquote('p-3\\.5')} { padding: var(--spacing-3-5); }
  .#{string.unquote('pt-3\\.5')} { padding-top: var(--spacing-3-5); }
  .#{string.unquote('pr-3\\.5')} { padding-right: var(--spacing-3-5); }
  .#{string.unquote('pb-3\\.5')} { padding-bottom: var(--spacing-3-5); }
  .#{string.unquote('pl-3\\.5')} { padding-left: var(--spacing-3-5); }
  .#{string.unquote('px-3\\.5')} { padding-left: var(--spacing-3-5); padding-right: var(--spacing-3-5); }
  .#{string.unquote('py-3\\.5')} { padding-top: var(--spacing-3-5); padding-bottom: var(--spacing-3-5); }

  .#{string.unquote('gap-3\\.5')} { gap: var(--spacing-3-5); }
  .#{string.unquote('gap-x-3\\.5')} { column-gap: var(--spacing-3-5); }
  .#{string.unquote('gap-y-3\\.5')} { row-gap: var(--spacing-3-5); }

  // ============================================================================
  // Auto Margins
  // ============================================================================
  .mx-auto { margin-left: auto; margin-right: auto; }
  .my-auto { margin-top: auto; margin-bottom: auto; }
  .mt-auto { margin-top: auto; }
  .mr-auto { margin-right: auto; }
  .mb-auto { margin-bottom: auto; }
  .ml-auto { margin-left: auto; }
  .m-auto { margin: auto; }

  // ============================================================================
  // Responsive Spacing Utilities
  // ============================================================================
  // Dynamically generate responsive utilities for all configured breakpoints
  @each $bp-name, $bp-value in bp.$breakpoints {
    @media (min-width: $bp-value) {
      @each $key, $value in $spacing-scale-int {
        .#{$bp-name}\:m-#{$key} { margin: $value; }
        .#{$bp-name}\:mt-#{$key} { margin-top: $value; }
        .#{$bp-name}\:mr-#{$key} { margin-right: $value; }
        .#{$bp-name}\:mb-#{$key} { margin-bottom: $value; }
        .#{$bp-name}\:ml-#{$key} { margin-left: $value; }
        .#{$bp-name}\:mx-#{$key} { margin-left: $value; margin-right: $value; }
        .#{$bp-name}\:my-#{$key} { margin-top: $value; margin-bottom: $value; }

        .#{$bp-name}\:p-#{$key} { padding: $value; }
        .#{$bp-name}\:pt-#{$key} { padding-top: $value; }
        .#{$bp-name}\:pr-#{$key} { padding-right: $value; }
        .#{$bp-name}\:pb-#{$key} { padding-bottom: $value; }
        .#{$bp-name}\:pl-#{$key} { padding-left: $value; }
        .#{$bp-name}\:px-#{$key} { padding-left: $value; padding-right: $value; }
        .#{$bp-name}\:py-#{$key} { padding-top: $value; padding-bottom: $value; }

        .#{$bp-name}\:gap-#{$key} { gap: $value; }
        .#{$bp-name}\:gap-x-#{$key} { column-gap: $value; }
        .#{$bp-name}\:gap-y-#{$key} { row-gap: $value; }
      }

      // Auto margins
      .#{$bp-name}\:mx-auto { margin-left: auto; margin-right: auto; }
      .#{$bp-name}\:my-auto { margin-top: auto; margin-bottom: auto; }
      .#{$bp-name}\:mt-auto { margin-top: auto; }
      .#{$bp-name}\:mr-auto { margin-right: auto; }
      .#{$bp-name}\:mb-auto { margin-bottom: auto; }
      .#{$bp-name}\:ml-auto { margin-left: auto; }
      .#{$bp-name}\:m-auto { margin: auto; }
    }
  }
}

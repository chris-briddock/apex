// ============================================================================
// Ring Utilities (Focus rings, borders with ring)
// ============================================================================

@use '../../config/settings' as settings;

@if settings.$enable-borders == true {
  // Define ring CSS variables on :root
  :root {
    --apex-ring-offset-shadow: 0 0 #0000;
    --apex-ring-shadow: 0 0 #0000;
    --apex-shadow: 0 0 #0000;
    --apex-ring-inset: ;
    --apex-ring-offset-width: 0px;
    --apex-ring-offset-color: #fff;
    --apex-ring-color: rgba(59, 130, 246, 0.5);
    --apex-ring-opacity: 1;
  }

  // Ring width
  $ring-widths: (
    0: 0,
    1: 1px,
    2: 2px,
    4: 4px,
    8: 8px
  );

  @each $key, $value in $ring-widths {
    .ring-#{$key} {
      --apex-ring-offset-shadow: 0 0 #0000;
      --apex-ring-shadow: 0 0 #0000;
      --apex-shadow: 0 0 #0000;
      box-shadow: var(--apex-ring-offset-shadow), var(--apex-ring-shadow), var(--apex-shadow);
      --apex-ring-inset: ;
      --apex-ring-offset-width: 0px;
      --apex-ring-offset-color: #fff;
      --apex-ring-color: rgba(59, 130, 246, 0.5);
      --apex-ring-offset-shadow: 0 0 0 var(--apex-ring-offset-width) var(--apex-ring-offset-color);
      --apex-ring-shadow: 0 0 0 calc(#{$value} + var(--apex-ring-offset-width)) var(--apex-ring-color);
    }
  }

  // Dark mode ring widths
  @if settings.$enable-dark-mode == true {
    @media (prefers-color-scheme: dark) {
      @each $key, $value in $ring-widths {
        .dark\:ring-#{$key} {
          --apex-ring-offset-shadow: 0 0 #0000;
          --apex-ring-shadow: 0 0 #0000;
          --apex-shadow: 0 0 #0000;
          box-shadow: var(--apex-ring-offset-shadow), var(--apex-ring-shadow), var(--apex-shadow);
          --apex-ring-inset: ;
          --apex-ring-offset-width: 0px;
          --apex-ring-offset-color: #111827;
          --apex-ring-color: rgba(96, 165, 250, 0.5);
          --apex-ring-offset-shadow: 0 0 0 var(--apex-ring-offset-width) var(--apex-ring-offset-color);
          --apex-ring-shadow: 0 0 0 calc(#{$value} + var(--apex-ring-offset-width)) var(--apex-ring-color);
        }
      }
    }

    [data-theme="dark"] {
      @each $key, $value in $ring-widths {
        .dark\:ring-#{$key} {
          --apex-ring-offset-shadow: 0 0 #0000;
          --apex-ring-shadow: 0 0 #0000;
          --apex-shadow: 0 0 #0000;
          box-shadow: var(--apex-ring-offset-shadow), var(--apex-ring-shadow), var(--apex-shadow);
          --apex-ring-inset: ;
          --apex-ring-offset-width: 0px;
          --apex-ring-offset-color: #111827;
          --apex-ring-color: rgba(96, 165, 250, 0.5);
          --apex-ring-offset-shadow: 0 0 0 var(--apex-ring-offset-width) var(--apex-ring-offset-color);
          --apex-ring-shadow: 0 0 0 calc(#{$value} + var(--apex-ring-offset-width)) var(--apex-ring-color);
        }
      }
    }
  }

  // Ring offset width
  @each $key, $value in $ring-widths {
    .ring-offset-#{$key} {
      --apex-ring-offset-width: #{$value};
      --apex-ring-offset-shadow: 0 0 0 var(--apex-ring-offset-width) var(--apex-ring-offset-color);
    }
  }

  // Dark mode ring offset widths
  @if settings.$enable-dark-mode == true {
    @media (prefers-color-scheme: dark) {
      @each $key, $value in $ring-widths {
        .dark\:ring-offset-#{$key} {
          --apex-ring-offset-width: #{$value};
          --apex-ring-offset-shadow: 0 0 0 var(--apex-ring-offset-width) var(--apex-ring-offset-color);
        }
      }
    }

    [data-theme="dark"] {
      @each $key, $value in $ring-widths {
        .dark\:ring-offset-#{$key} {
          --apex-ring-offset-width: #{$value};
          --apex-ring-offset-shadow: 0 0 0 var(--apex-ring-offset-width) var(--apex-ring-offset-color);
        }
      }
    }
  }

  // Ring colors
  $ring-colors: (
    primary: #3b82f6,
    secondary: #64748b,
    success: #22c55e,
    danger: #ef4444,
    warning: #f59e0b,
    info: #0ea5e9,
    light: #f3f4f6,
    dark: #1f2937,
    "white": #fff,
    "black": #000,
    "transparent": transparent,
    gray-50: #f9fafb,
    gray-100: #f3f4f6,
    gray-200: #e5e7eb,
    gray-300: #d1d5db,
    gray-400: #9ca3af,
    gray-500: #6b7280,
    gray-600: #4b5563,
    gray-700: #374151,
    gray-800: #1f2937,
    gray-900: #111827,
    blue-500: #3b82f6,
    green-500: #22c55e,
    red-500: #ef4444,
    yellow-500: #eab308,
    purple-500: #a855f7,
  );

  @each $key, $value in $ring-colors {
    .ring-#{"#{$key}"} {
      --apex-ring-color: #{$value};
    }
  }

  // Dark mode ring colors
  @if settings.$enable-dark-mode == true {
    $dark-ring-colors: (
      primary: #60a5fa,
      secondary: #94a3b8,
      success: #4ade80,
      danger: #f87171,
      warning: #fbbf24,
      info: #38bdf8,
      light: #1f2937,
      dark: #f3f4f6,
      "white": #111827,
      "black": #fff,
      "transparent": transparent,
      gray-50: #1f2937,
      gray-100: #374151,
      gray-200: #4b5563,
      gray-300: #6b7280,
      gray-400: #9ca3af,
      gray-500: #d1d5db,
      gray-600: #e5e7eb,
      gray-700: #f3f4f6,
      gray-800: #f9fafb,
      gray-900: #ffffff,
      blue-500: #60a5fa,
      green-500: #4ade80,
      red-500: #f87171,
      yellow-500: #fbbf24,
      purple-500: #c084fc,
    );

    @media (prefers-color-scheme: dark) {
      @each $key, $value in $dark-ring-colors {
        .dark\:ring-#{"#{$key}"} {
          --apex-ring-color: #{$value};
        }
      }
    }

    [data-theme="dark"] {
      @each $key, $value in $dark-ring-colors {
        .dark\:ring-#{"#{$key}"} {
          --apex-ring-color: #{$value};
        }
      }
    }
  }

  // Ring offset colors
  @each $key, $value in $ring-colors {
    .ring-offset-#{"#{$key}"} {
      --apex-ring-offset-color: #{$value};
    }
  }

  // Dark mode ring offset colors
  @if settings.$enable-dark-mode == true {
    $dark-ring-offset-colors: (
      primary: #60a5fa,
      secondary: #94a3b8,
      success: #4ade80,
      danger: #f87171,
      warning: #fbbf24,
      info: #38bdf8,
      light: #1f2937,
      dark: #f3f4f6,
      "white": #111827,
      "black": #fff,
      "transparent": transparent,
      gray-50: #1f2937,
      gray-100: #374151,
      gray-200: #4b5563,
      gray-300: #6b7280,
      gray-400: #9ca3af,
      gray-500: #d1d5db,
      gray-600: #e5e7eb,
      gray-700: #f3f4f6,
      gray-800: #f9fafb,
      gray-900: #ffffff,
      blue-500: #60a5fa,
      green-500: #4ade80,
      red-500: #f87171,
      yellow-500: #fbbf24,
      purple-500: #c084fc,
    );

    @media (prefers-color-scheme: dark) {
      @each $key, $value in $dark-ring-offset-colors {
        .dark\:ring-offset-#{"#{$key}"} {
          --apex-ring-offset-color: #{$value};
        }
      }
    }

    [data-theme="dark"] {
      @each $key, $value in $dark-ring-offset-colors {
        .dark\:ring-offset-#{"#{$key}"} {
          --apex-ring-offset-color: #{$value};
        }
      }
    }
  }

  // Ring inset
  .ring-inset {
    --apex-ring-inset: inset;
  }

  // Dark mode ring inset
  @if settings.$enable-dark-mode == true {
    @media (prefers-color-scheme: dark) {
      .dark\:ring-inset {
        --apex-ring-inset: inset;
      }
    }

    [data-theme="dark"] {
      .dark\:ring-inset {
        --apex-ring-inset: inset;
      }
    }
  }

  // Ring opacity
  .ring-opacity-0 { --apex-ring-opacity: 0; }
  .ring-opacity-25 { --apex-ring-opacity: 0.25; }
  .ring-opacity-50 { --apex-ring-opacity: 0.5; }
  .ring-opacity-75 { --apex-ring-opacity: 0.75; }
  .ring-opacity-100 { --apex-ring-opacity: 1; }

  // Dark mode ring opacity
  @if settings.$enable-dark-mode == true {
    @media (prefers-color-scheme: dark) {
      .dark\:ring-opacity-0 { --apex-ring-opacity: 0; }
      .dark\:ring-opacity-25 { --apex-ring-opacity: 0.25; }
      .dark\:ring-opacity-50 { --apex-ring-opacity: 0.5; }
      .dark\:ring-opacity-75 { --apex-ring-opacity: 0.75; }
      .dark\:ring-opacity-100 { --apex-ring-opacity: 1; }
    }

    [data-theme="dark"] {
      .dark\:ring-opacity-0 { --apex-ring-opacity: 0; }
      .dark\:ring-opacity-25 { --apex-ring-opacity: 0.25; }
      .dark\:ring-opacity-50 { --apex-ring-opacity: 0.5; }
      .dark\:ring-opacity-75 { --apex-ring-opacity: 0.75; }
      .dark\:ring-opacity-100 { --apex-ring-opacity: 1; }
    }
  }

}

// ============================================================================
// Divide Utilities (Border between children)
// ============================================================================

@use '../../config/settings' as settings;

@if settings.$enable-borders == true {
  // Divide y (top/bottom borders)
  .divide-y > :not([hidden]) ~ :not([hidden]) {
    --divide-y-reverse: 0;
    border-top-width: calc(1px * calc(1 - var(--divide-y-reverse)));
    border-bottom-width: calc(1px * var(--divide-y-reverse));
  }

  .divide-y-reverse > :not([hidden]) ~ :not([hidden]) {
    --divide-y-reverse: 1;
  }

  // Divide x (left/right borders)
  .divide-x > :not([hidden]) ~ :not([hidden]) {
    --divide-x-reverse: 0;
    border-right-width: calc(1px * var(--divide-x-reverse));
    border-left-width: calc(1px * calc(1 - var(--divide-x-reverse)));
  }

  .divide-x-reverse > :not([hidden]) ~ :not([hidden]) {
    --divide-x-reverse: 1;
  }

  // Divide widths
  @each $width in (0, 2, 4, 8) {
    .divide-y-#{$width} > :not([hidden]) ~ :not([hidden]) {
      --divide-y-reverse: 0;
      border-top-width: calc(#{$width}px * calc(1 - var(--divide-y-reverse)));
      border-bottom-width: calc(#{$width}px * var(--divide-y-reverse));
    }

    .divide-x-#{$width} > :not([hidden]) ~ :not([hidden]) {
      --divide-x-reverse: 0;
      border-right-width: calc(#{$width}px * var(--divide-x-reverse));
      border-left-width: calc(#{$width}px * calc(1 - var(--divide-x-reverse)));
    }
  }

  // Divide colors - gray scale
  @each $key in (50, 100, 200, 300, 400, 500, 600, 700, 800, 900) {
    .divide-gray-#{$key} > :not([hidden]) ~ :not([hidden]) {
      border-color: var(--color-gray-#{$key});
    }
  }

  // Divide colors - other colors
  $divide-colors: (
    primary: var(--color-primary),
    secondary: var(--color-secondary),
    success: var(--color-success),
    danger: var(--color-danger),
    warning: var(--color-warning),
    info: var(--color-info),
    light: var(--color-light),
    dark: var(--color-dark),
    "white": #fff,
    "black": #000,
    "transparent": transparent,
    current: currentColor,
  );

  @each $key, $value in $divide-colors {
    .divide-#{"#{$key}"} > :not([hidden]) ~ :not([hidden]) {
      border-color: #{$value};
    }
  }

  // Divide styles
  $divide-styles: (
    solid: solid,
    dashed: dashed,
    dotted: dotted,
    double: double,
    none: none,
  );

  @each $key, $value in $divide-styles {
    .divide-#{$key} > :not([hidden]) ~ :not([hidden]) {
      border-style: #{$value};
    }
  }

  // Dark mode divide colors
  @if settings.$enable-dark-mode == true {
    [data-theme="dark"] {
      @each $key in (50, 100, 200, 300, 400, 500, 600, 700, 800, 900) {
        .dark\:divide-gray-#{$key} > :not([hidden]) ~ :not([hidden]) {
          border-color: var(--color-gray-#{$key});
        }
      }
    }
  }
}

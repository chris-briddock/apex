// ============================================================================
// Class Name Prefix Configuration
// ============================================================================

// Default prefix (empty string)
$prefix: '' !default;

// Prefix map for different utilities
$prefix-map: (
  spacing: $prefix,
  sizing: $prefix,
  typography: $prefix,
  colors: $prefix,
  flexbox: $prefix,
  grid: $prefix,
  positioning: $prefix,
  display: $prefix,
  borders: $prefix,
  shadows: $prefix,
  opacity: $prefix,
  overflow: $prefix,
  visibility: $prefix,
  transitions: $prefix,
  states: $prefix,
  themes: $prefix,
  rtl: $prefix,
  accessibility: $prefix,
  extended: $prefix,
  components: $prefix
) !default;

// Function to get prefixed class name
@function prefix($class-name, $category: null) {
  @if $category {
    $category-prefix: map.get($prefix-map, $category);

    @if $category-prefix == '' {
      @return $class-name;
    }

    @return #{$category-prefix}#{$class-name};
  }

  @if $prefix == '' {
    @return $class-name;
  }

  @return #{$prefix}#{$class-name};
}

// Mixin to apply prefix to a selector
@mixin prefix-selector($class-name, $category: null) {
  $prefixed-name: prefix($class-name, $category);
  .#{$prefixed-name} {
    @content;
  }
}
